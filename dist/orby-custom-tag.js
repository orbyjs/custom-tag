"use strict";var core=require("@orby/core");let CustomTags={},CustomViews={};function register({tag:t,props:s,children:e}){CustomViews[t]={Component:e[0],scoped:s.scoped,props:s.props||[]},CustomTags[t]||(CustomTags[t]=class extends HTMLElement{constructor(){super(),this.props={},CustomViews[t].scoped&&this.attachShadow({mode:"open"})}static get observedAttributes(){return CustomViews[t]?CustomViews[t].props:[]}connectedCallback(){this.mounted=!0,this.mapAllProps(),this.update()}disconnectedCallback(){this.update(!0)}attributeChangedCallback(t,s,e){s!==e&&(this.props[t]=e,this.update())}mapAllProps(){let s=CustomViews[t].props;for(let t=0;t<s.length;t++){let e=s[t];this.props[e]=this.getAttribute(e)}}update(e){this.mounted&&(this.prevent||(this.prevent=!0,setTimeout(()=>{this.lastView=core.render(core.h(e?"":CustomViews[t].Component,s),CustomViews[t].scoped&&this.shadowRoot||this,this.lastView),this.prevent=!1})))}},customElements.define(t,CustomTags[t]))}module.exports=register;
//# sourceMappingURL=orby-custom-tag.js.map
