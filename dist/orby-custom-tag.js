"use strict";var core=require("@orby/core");let CustomTags={},CustomViews={};function register({tag:t,props:e,children:s}){CustomViews[t]={Component:s[0],scoped:e.scoped,props:e.props||[]},CustomTags[t]||(CustomTags[t]=class extends HTMLElement{constructor(){super(),this.props={},CustomViews[t].scoped&&this.attachShadow({mode:"open"})}static get observedAttributes(){return CustomViews[t]?CustomViews[t].props:[]}connectedCallback(){this.mounted=!0,this.mapAllProps(),this.update()}disconnectedCallback(){this.update(!0)}attributeChangedCallback(t,e,s){e!==s&&(this.props[t]=s,this.update())}mapAllProps(){let e=CustomViews[t].props;for(let t=0;t<e.length;t++){let s=e[t];this.props[s]=this.getAttribute(s)}}update(s){this.mounted&&(this.prevent||(this.prevent=!0,setTimeout(()=>{this.lastView=core.render(core.h(s?"":CustomViews[t].Component,e),CustomViews[t].scoped&&this.shadowRoot||this,this.lastView),this.prevent=!1})))}},customElements.define(t,CustomTags[t])),document.querySelectorAll(t).forEach(t=>t.update())}module.exports=register;
//# sourceMappingURL=orby-custom-tag.js.map
